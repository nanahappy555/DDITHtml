<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/outStyle.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<script src="../js/jquery-3.6.0.min.js"></script>
<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="col-md-3">
		<select class="form-control" id="lprod">
			<option>lprod리스트</option>
			<option>lprod리스트</option>
			<option>lprod리스트</option>
			<option>lprod리스트</option>
		</select>
	</div> 
	<div class="col-md-3">
		<select class="form-control" id="prod">
			<option>prod리스트</option>
			<option>prod리스트</option>
			<option>prod리스트</option>
			<option>prod리스트</option>
		</select>
	<div></div>
	<div>prod의 상세정보</div>
<script>

//제이쿼리로 ajax - lprod
$.ajax({
	url: 'lprod.jsp',
// 	type: get, 생략가능
	success:function(){
		//select id영역에 뿌려주기
		let rst ="";
		$.each(data,function(){
			rst += `<option value='${data[i].gu}'?${data[i].nm}</option>`;
		});
		$('#lprod').append(rst);
	},
	error:function(xhr){
		alert(xhr.status);
	},
	dataType: 'json'
});

//자바스크립트로 ajax - lprod
//숙제 ㅠㅠ

//제이쿼리로 ajax - prod
$('lprod').on('change',function(){
	//console.log( $(this).val() ); //요청정보
	$.ajax({
		url : 'prod.jsp',
// 		data : {'key' : 'value'}, 전송되는 형태지정..
		data : {'key' : $(this).val()},
		success:function(){},
		error:function(){
			alert(xhr.status);
		},
		dataType: 'json'
	});
});
</script>
</body>
</html>